<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 1 - Basic Vocabulary</title>
    <link rel="stylesheet" href="/static/lesson1.css">
<script>

        // Predefined questions array
        const questions = [
        // Synonyms (Harder)
        { 
            question: "What is the synonym of 'meticulous'?", 
            options: ["Careful", "Casual", "Hasty"], 
            answer: "Careful" 
        },
        { 
            question: "What is the synonym of 'elaborate'?", 
            options: ["Detailed", "Simple", "Plain"], 
            answer: "Detailed" 
        },
        { 
            question: "What is the synonym of 'ambiguous'?", 
            options: ["Unclear", "Definite", "Transparent"], 
            answer: "Unclear" 
        },
        
        // Antonyms (Harder)
        { 
            question: "What is the opposite of 'benevolent'?", 
            options: ["Cruel", "Kind", "Generous"], 
            answer: "Cruel" 
        },
        { 
            question: "What is the opposite of 'conceal'?", 
            options: ["Reveal", "Hide", "Cover"], 
            answer: "Reveal" 
        },
        { 
            question: "What is the opposite of 'mandatory'?", 
            options: ["Optional", "Required", "Obligatory"], 
            answer: "Optional" 
        },
        
        // Word Families (Advanced)
        { 
            question: "Which word belongs to the same word family as 'decide'?", 
            options: ["Decision", "Decisive", "Both"], 
            answer: "Both" 
        },
        { 
            question: "Which word belongs to the same word family as 'apply'?", 
            options: ["Application", "Applicable", "Both"], 
            answer: "Both" 
        },
        { 
            question: "Which word belongs to the same word family as 'create'?", 
            options: ["Creative", "Creation", "Both"], 
            answer: "Both" 
        },
        
        // Collocations (Advanced)
        { 
            question: "Which word collocates with 'deep'?", 
            options: ["Regret", "Sleep", "Both"], 
            answer: "Both" 
        },
        { 
            question: "Which word collocates with 'take'?", 
            options: ["Responsibility", "Advice", "Both"], 
            answer: "Responsibility" 
        },
        { 
            question: "Which word collocates with 'highly'?", 
            options: ["Skilled", "Tall", "Both"], 
            answer: "Skilled" 
        },
    ];

        let currentPhraseIndex = 0;
        let randomPhrases = [];
        let score = 0;
        let totalQuestions = 0;

        // Shuffle and pick random questions
        function selectRandomPhrases() {
            const shuffled = questions.sort(() => Math.random() - 0.5);
            randomPhrases = shuffled.slice(0, 10); // Pick 5 random questions for now
            totalQuestions = randomPhrases.length;
        }

        // Load the current question
        function loadPhrase() {
            const questionContainer = document.getElementById("question");
            const optionsContainer = document.getElementById("options");
            const phrase = randomPhrases[currentPhraseIndex];

            questionContainer.textContent = phrase.question;

            // Clear and load options
            optionsContainer.innerHTML = "";
            phrase.options.forEach((option) => {
                const button = document.createElement("button");
                button.textContent = option;
                button.className = "option";
                button.onclick = () => checkAnswer(option);
                optionsContainer.appendChild(button);
            });
        }

        // Check the selected answer
        function checkAnswer(selectedOption) {
            const phrase = randomPhrases[currentPhraseIndex];
            if (selectedOption === phrase.answer) {
                alert("Correct!");
                score++;
            } else {
                alert(`Incorrect. The correct answer is: ${phrase.answer}`);
            }

            currentPhraseIndex++;

            if (currentPhraseIndex < randomPhrases.length) {
                loadPhrase(); // Load the next phrase
            } else {
                showScore(); // Show the final score
            }
        }

        // Display the user's score
        function showScore() {
        const questionSection = document.getElementById("question-section");
        questionSection.innerHTML = `
            <div class="score-section">
                <h2>Your Score</h2>
                <p>You scored ${score} out of ${totalQuestions}.</p>
            </div>
        `;
}
        // Initialize the quiz
        window.onload = () => {
            selectRandomPhrases(); // Prepare random questions
            loadPhrase(); // Load the first question
        };
    </script>
</head>
<body>
    <header class="test-header">
        <h1>Lesson 1: Vocabulary Practice</h1>
    </header>
    <main class="test-content">
        <section id="question-section">
            <h2 id="question"></h2>
            <div id="options" class="options"></div>
        </section>
    </main>
    <footer class="test-footer">
        <a href="{{ url_for('home') }}" class="back-button">Back to Home</a>
    </footer>
</body>
</html>
